# Sway WM Configuration File
# AUTHOR: Katikistan

include catppuccin-mocha

### Variables
set $mod Mod4

# Home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

# Inverse scrolling for touchpad
input "type:touchpad" {
    natural_scroll enabled
}

# Inverse scrolling for mouse
input "type:mouse" {
    natural_scroll enabled
}

# Your preferred terminal emulator
set $term alacritty

# Your preferred application launcher
set $menu fuzzel

# File Manager
set $file-manager thunar

# Your preferred Browser
set $web-browser librewolf

# lock screen (Catppuccin Mocha colors)
set $lock swaylock -f
### OBS Fixes and XDG Desktop

output * bg ~/Pictures/wallpapers/wallpaper.png fill

# Set XDG_CURRENT_DESKTOP for proper Wayland support
exec --no-startup-id dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway

# Start xdg-desktop-portal services (ensure wlr starts first)
exec --no-startup-id /usr/lib/xdg-desktop-portal-wlr &
exec --no-startup-id /usr/lib/xdg-desktop-portal -r

### Colorscheme (Catppuccin Mocha)
set $rosewater #f5e0dc
set $flamingo  #f2cdcd
set $pink      #f5c2e7
set $mauve     #cba6f7
set $red       #f38ba8
set $maroon    #eba0ac
set $peach     #fab387
set $yellow    #f9e2af
set $green     #a6e3a1
set $teal      #94e2d5
set $sky       #89dceb
set $sapphire  #74c7ec
set $blue      #89b4fa
set $lavender  #b4befe
set $text      #cdd6f4
set $subtext1  #bac2de
set $subtext0  #a6adc8
set $overlay2  #9399b2
set $overlay1  #7f849c
set $overlay0  #6c7086
set $surface2  #585b70
set $surface1  #45475a
set $surface0  #313244
set $base      #1e1e2e
set $mantle    #181825
set $crust     #11111b

### Output configuration
output HDMI-A-1 resolution 1920x1080 position 1920,0

# Wallpaper (uncomment and set your wallpaper path)
# output * bg /path/to/wallpaper.png fill

### Idle configuration
exec swayidle -w \
    timeout 300 $lock \
    timeout 600 'swaymsg output "*" power off' \
    resume 'swaymsg output "*" power on' \
    before-sleep $lock

### Font Configuration
font pango:Iosevka Nerd Font Mono 12

### Autostart

## Notification daemon
exec swaync

## Waybar
exec waybar

## Bluetooth applet
exec blueman-applet

## Autostart Applications
exec swaymsg "workspace 3; exec $term"

### Window Rules
for_window [app_id="yad"] floating enable
for_window [app_id="org.pulseaudio.pavucontrol"] floating enable, move position center, resize set 600 400
for_window [app_id="blueman-manager"] floating enable, move position center, resize set 600 400
for_window [app_id="thunar"] floating enable, move position center, resize set 900 600

### Key bindings
#
# Basics:
#
    # Start a terminal
    bindsym $mod+Return exec $term

    # Start Neovim in terminal
    bindsym $mod+e exec $term -e nvim

    # Lock
    bindsym $mod+Shift+x exec $lock

    # File Manager
    bindsym $mod+t exec $file-manager
    bindsym $mod+r exec ranger

    # Reload Waybar
    bindsym $mod+shift+w exec pkill -SIGUSR2 waybar

    # Call the browser variable and launch it with $mod+b
    bindsym $mod+b $web-browser
    # Alacritty config with Catppuccin Mocha theme and custom settings

# env:
#  TERM: "xterm-256color"ec $web-browser

    # Kill focused window
    bindsym $mod+q kill

    # Logout menu (wlogout)
    bindsym ctrl+alt+delete exec wlogout

    # Start your launcher
    bindsym $mod+d exec $menu

    # Clipboard (using fuzzel as dmenu)
    bindsym $mod+v exec wl-paste -l | fuzzel --dmenu -p "Clipboard: "

    # Notification center toggle
    bindsym $mod+n exec swaync-client -t -sw

    # Drag floating windows by holding down $mod and left mouse button.
    # Resize them with right mouse button + $mod.
    floating_modifier $mod normal
    bindsym $mod+button1 resize

    # Reload the configuration file
    bindsym $mod+Shift+c reload

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

#
# Moving around:
#
    # Move your focus around
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    # Or use $mod+[up|down|left|right]
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right
    # Ditto, with arrow keys
    bindsym $mod+Shift+Left move left
    bindsym $mod+Shift+Down move down
    bindsym $mod+Shift+Up move up
    bindsym $mod+Shift+Right move right

#
# Workspaces:

# Auto-open workspaces 1-6 with specific apps

# Workspace 1: Default (starts as browser)
exec --no-startup-id swaymsg "workspace 1; exec $web-browser"

# Workspace 2: browser
exec --no-startup-id swaymsg "workspace 2; exec mullvad-browser"

# Workspace 3: Neovim (editor)
exec --no-startup-id swaymsg "workspace 3; exec $term -e nvim"

# Workspace 4: Tmux (terminal)
exec --no-startup-id swaymsg "workspace 4; exec $term -e tmux"

# Workspace 5: Obsidian
exec --no-startup-id swaymsg "workspace 5; exec obsidian"

# Workspace 6: ProtonVPN, qbittorrent
exec --no-startup-id swaymsg "workspace 6; exec qbittorrent"
exec --no-startup-id swaymsg "workspace 6; exec protonvpn"
#
    # Switch to workspace
    bindsym $mod+1 workspace number 1
    bindsym $mod+2 workspace number 2
    bindsym $mod+3 workspace number 3
    bindsym $mod+4 workspace number 4
    bindsym $mod+5 workspace number 5
    bindsym $mod+6 workspace number 6
    bindsym $mod+7 workspace number 7
    bindsym $mod+8 workspace number 8
    bindsym $mod+9 workspace number 9
    bindsym $mod+0 workspace number 10

    # Move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace number 1
    bindsym $mod+Shift+2 move container to workspace number 2
    bindsym $mod+Shift+3 move container to workspace number 3
    bindsym $mod+Shift+4 move container to workspace number 4
    bindsym $mod+Shift+5 move container to workspace number 5
    bindsym $mod+Shift+6 move container to workspace number 6
    bindsym $mod+Shift+7 move container to workspace number 7
    bindsym $mod+Shift+8 move container to workspace number 8
    bindsym $mod+Shift+9 move container to workspace number 9
    bindsym $mod+Shift+0 move container to workspace number 10

#
# Layout stuff:
#
    # Switch the current container between different layout styles
    bindsym $mod+shift+s layout stacking
    bindsym $mod+Shift+t floating toggle

    # Manual Tiling Modes
    bindsym $mod+p splith
    bindsym $mod+o splitv

    # Make the current focus fullscreen
    bindsym $mod+f fullscreen

    # Toggle the current focus between tiling and floating mode
    bindsym $mod+Shift+space floating toggle

    # Swap focus between the tiling area and the floating area
    bindsym $mod+space focus mode_toggle

#
# Scratchpad:
#
    # Move the currently focused window to the scratchpad
    bindsym $mod+Shift+minus move scratchpad

    # Show the next scratchpad window or hide the focused scratchpad window.
    bindsym $mod+minus scratchpad show

#
# Resizing containers:
#
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+r mode "resize"
# Exit resize mode#
# Utilities:
#
    # Volume controls via PulseAudio
    bindsym --locked XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
    bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
    bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
    bindsym --locked XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle

    # Brightness controls via brightnessctl
    bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
    bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+

    # Screenshots with grim + slurp
    # Full screenshot
    bindsym Print exec grim ~/Pictures/screenshot_$(date +'%Y%m%d_%H%M%S').png

    # Region select screenshot
    bindsym Shift+Print exec grim -g "$(slurp)" ~/Pictures/screenshot_$(date +'%Y%m%d_%H%M%S').png

    # Region to clipboard
    bindsym Ctrl+Print exec grim -g "$(slurp)" - | wl-copy

    input * xkb_layout dk


include @sysconfdir@/sway/config.d/*

## Sway Borders (Catppuccin Mocha)

# Focused window (active)
client.focused $lavender $surface1 $text $mauve $lavender

# Unfocused window (inactive)
client.unfocused $base $surface0 $overlay0 $base $surface0

# Urgent window (e.g., alerts)
client.urgent $red $surface1 $text $red $red

# Borders and Gaps
gaps inner 4
gaps outer 4

default_border pixel 2

titlebar_padding 8 2
titlebar_border_thickness 2
